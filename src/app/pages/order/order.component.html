<div class="ticket-info-wrap col-6">
    <div>
        <a routerLink="/tours">Назад</a>

        <div class="mt-3">
            <h2>Информация о туре</h2>
            <div>Название {{tour?.name}}</div>
        </div>
        <div class="mt-3">
            <h2>Информация о покупателе</h2>
            <form>
                <div class="mt-3 user-info" [formGroup]="userForm">

                    @for (fieldObj of userFormFielsdArr; track fieldObj.control) {
                        <ng-container
                        [ngTemplateOutlet]="formField"
                        [ngTemplateOutletContext]="fieldObj"
                    />
                    }

                    <div class="form-group mt-3">
                        <label class="mx-3">Возраст</label>
                        <p-inputNumber 
                            name="age"
                            formControlName="age"
                            [showButtons]="true"
                            [min]="0"
                            class="form-control mt-3">
                        
                        </p-inputNumber>
                    </div>
                    <div class="form-group mt-3">
                        <label class="mx-3">День рождения</label>
                        <p-datepicker
                            name="birthDate"
                            formControlName="birthDate"
                            class="form-control mt-3">
                        </p-datepicker>
                    
                    </div>
                    <div class="form-group mt-3">
                        <label for="citizenship" class="mx-3">Гражданство</label>
                        <input type="text"
                               class="form-control mt-3"
                               id="citizenship"
                               pInputText
                               formControlName="citizenship"
                               placeholder="Введите гражданство">
                    </div>
                    <div class="form-group mt-3">
                        <p-button 
                            (click)="initOrder()"
                            class="btn btn-primary"
                            [disabled]="!userForm.valid">
                            Сформировать заказ
                        </p-button>
                    </div>

                </div>
            </form>
        </div>
    </div>
</div>

<ng-template #formField let-controlNew="control" let-placeHolder="placeHolder" let-label="label">
    <div [formGroup]="userForm" class="form-group mt-3">
        <label [attr.for]="controlNew" class="mx-3">{{label}}</label>
        <input type="text"
               class="form-control mt-3"
               [id]="controlNew"
               pInputText
               [formControlName]="controlNew"
               [placeholder]="placeHolder">
    </div>
</ng-template>